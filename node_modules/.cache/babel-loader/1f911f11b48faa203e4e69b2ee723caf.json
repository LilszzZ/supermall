{"remainingRequest":"D:\\vue项目\\supermall-master\\node_modules\\babel-loader\\lib\\index.js!D:\\vue项目\\supermall-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vue项目\\supermall-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue项目\\supermall-master\\src\\views\\cart\\childComps\\CartButtonBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue项目\\supermall-master\\src\\views\\cart\\childComps\\CartButtonBar.vue","mtime":1620893710000},{"path":"D:\\vue项目\\supermall-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655460943176},{"path":"D:\\vue项目\\supermall-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1655460947168},{"path":"D:\\vue项目\\supermall-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655460943176},{"path":"D:\\vue项目\\supermall-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1655460947237}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovdnVlXHU5ODc5XHU3NkVFL3N1cGVybWFsbC1tYXN0ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBDYXJ0Q2hlY2tCdXR0b24gZnJvbSAiLi9DYXJ0Q2hlY2tCdXR0b24iOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ2FydEJ1dHRvbkJhciIsCiAgY29tcG9uZW50czogewogICAgQ2FydENoZWNrQnV0dG9uOiBDYXJ0Q2hlY2tCdXR0b24KICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWydjYXJ0TGlzdCddKSksIHt9LCB7CiAgICB0b3RhbFByaWNlOiBmdW5jdGlvbiB0b3RhbFByaWNlKCkgewogICAgICByZXR1cm4gJ++/pScgKyB0aGlzLmNhcnRMaXN0LmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmNoZWNrZWQ7CiAgICAgIH0pLnJlZHVjZShmdW5jdGlvbiAob2xkVmFsdWUsIGl0ZW0pIHsKICAgICAgICB2YXIgbnVtID0gcGFyc2VGbG9hdChpdGVtLnByaWNlLnN1YnN0cigxLCBpdGVtLnByaWNlLmxlbmd0aCAtIDEpKTsKICAgICAgICByZXR1cm4gb2xkVmFsdWUgKyBudW0gKiBpdGVtLmNvdW50OwogICAgICB9LCAwKTsKICAgIH0sCiAgICBjaGVja0xlbmd0aDogZnVuY3Rpb24gY2hlY2tMZW5ndGgoKSB7CiAgICAgIHJldHVybiB0aGlzLmNhcnRMaXN0LmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmNoZWNrZWQ7CiAgICAgIH0pLmxlbmd0aDsKICAgIH0sCiAgICBpc1NlbGVjdEFsbDogZnVuY3Rpb24gaXNTZWxlY3RBbGwoKSB7CiAgICAgIGlmICh0aGlzLmNhcnRMaXN0Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlOyAvLyAxLiDkvb/nlKjpq5jnuqflh73mlbAKICAgICAgLy8gcmV0dXJuICghdGhpcy5jYXJ0TGlzdC5maWx0ZXIoaXRlbSA9PiAhaXRlbS5jaGVja2VkKS5sZW5ndGgpCgogICAgICByZXR1cm4gIXRoaXMuY2FydExpc3QuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiAhaXRlbS5jaGVja2VkOwogICAgICB9KTsgLy8gMi4g6YGN5Y6GCiAgICAgIC8vIGZvcihsZXQgaXRlbSBvZiB0aGlzLmNhcnRMaXN0KSB7CiAgICAgIC8vICAgaWYoIWl0ZW0uY2hlY2tlZCkgewogICAgICAvLyAgICAgcmV0dXJuIGZhbHNlCiAgICAgIC8vICAgfQogICAgICAvLyAgIHJldHVybiB0cnVlCiAgICAgIC8vIH0KICAgIH0KICB9KSwKICBtZXRob2RzOiB7CiAgICBidXR0b25DaGFuZ2U6IGZ1bmN0aW9uIGJ1dHRvbkNoYW5nZSgpIHsKICAgICAgaWYgKHRoaXMuaXNTZWxlY3RBbGwpIHsKICAgICAgICAvLyDlhajpg6jpgInkuK0KICAgICAgICB0aGlzLmNhcnRMaXN0LmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgIHJldHVybiBlbGVtZW50LmNoZWNrZWQgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDmsqHmnInlhajpg6jpgInkuK0o6YOo5YiG5LiN6YCJ5LitKQogICAgICAgIHRoaXMuY2FydExpc3QuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAgcmV0dXJuIGVsZW1lbnQuY2hlY2tlZCA9IHRydWU7CiAgICAgICAgfSk7CiAgICAgIH0gLy8gdGhpcy5jYXJ0TGlzdC5mb3JFYWNoKGVsZW1lbnQgPT4gZWxlbWVudC5jaGVja2VkID0gIXRoaXMuaXNTZWxlY3RBbGwpOwoKICAgIH0sCiAgICBjYWxjQ2xpY2s6IGZ1bmN0aW9uIGNhbGNDbGljaygpIHsKICAgICAgaWYgKCF0aGlzLmlzU2VsZWN0QWxsKSB7CiAgICAgICAgdGhpcy4kdG9hc3Quc2hvdygi6K+36YCJ5oup6LSt5Lmw55qE5ZWG5ZOBIik7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["CartButtonBar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAgBA,OAAA,eAAA,MAAA,mBAAA;AACA,SAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,eADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,eAAA,EAAA;AADA,GAFA;AAKA,EAAA,QAAA,kCACA,UAAA,CAAA,CAAA,UAAA,CAAA,CADA;AAEA,IAAA,UAFA,wBAEA;AACA,aAAA,MAAA,KAAA,QAAA,CAAA,MAAA,CAAA,UAAA,IAAA,EAAA;AACA,eAAA,IAAA,CAAA,OAAA;AACA,OAFA,EAEA,MAFA,CAEA,UAAA,QAAA,EAAA,IAAA,EAAA;AACA,YAAA,GAAA,GAAA,UAAA,CAAA,IAAA,CAAA,KAAA,CAAA,MAAA,CAAA,CAAA,EAAA,IAAA,CAAA,KAAA,CAAA,MAAA,GAAA,CAAA,CAAA,CAAA;AACA,eAAA,QAAA,GAAA,GAAA,GAAA,IAAA,CAAA,KAAA;AACA,OALA,EAKA,CALA,CAAA;AAMA,KATA;AAUA,IAAA,WAVA,yBAUA;AACA,aAAA,KAAA,QAAA,CAAA,MAAA,CAAA,UAAA,IAAA;AAAA,eAAA,IAAA,CAAA,OAAA;AAAA,OAAA,EAAA,MAAA;AACA,KAZA;AAaA,IAAA,WAbA,yBAaA;AACA,UAAA,KAAA,QAAA,CAAA,MAAA,KAAA,CAAA,EAAA,OAAA,KAAA,CADA,CAEA;AACA;;AACA,aAAA,CAAA,KAAA,QAAA,CAAA,IAAA,CAAA,UAAA,IAAA;AAAA,eAAA,CAAA,IAAA,CAAA,OAAA;AAAA,OAAA,CAAA,CAJA,CAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzBA,IALA;AAgCA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AACA,UAAA,KAAA,WAAA,EAAA;AAAA;AACA,aAAA,QAAA,CAAA,OAAA,CAAA,UAAA,OAAA;AAAA,iBAAA,OAAA,CAAA,OAAA,GAAA,KAAA;AAAA,SAAA;AAEA,OAHA,MAGA;AAAA;AACA,aAAA,QAAA,CAAA,OAAA,CAAA,UAAA,OAAA;AAAA,iBAAA,OAAA,CAAA,OAAA,GAAA,IAAA;AAAA,SAAA;AACA,OANA,CAOA;;AACA,KATA;AAUA,IAAA,SAVA,uBAUA;AAEA,UAAA,CAAA,KAAA,WAAA,EAAA;AACA,aAAA,MAAA,CAAA,IAAA,CAAA,UAAA;AACA;AACA;AAfA;AAhCA,CAAA","sourcesContent":["<template>\n  <div class=\"button-bar\">\n    <div class=\"check-content\">\n      <cart-check-button  class=\"check-button\"\n                          :is-checked=\"isSelectAll\"\n                          @click.native=\"buttonChange\"/>\n      <span>全选</span>\n    </div>\n    <div class=\"price\">\n      合计：　{{totalPrice}}\n    </div>\n    <div class=\"calculate\" @click=\"calcClick\">去计算：({{checkLength}})</div>\n  </div>\n</template>\n\n<script>\nimport CartCheckButton from \"./CartCheckButton\";\nimport {mapGetters } from 'vuex'\nexport default {\n  name: \"CartButtonBar\",\n  components: {\n    CartCheckButton,\n  },\n  computed: {\n    ...mapGetters(['cartList']),\n    totalPrice() {\n      return '￥' + this.cartList.filter(item => {\n       return  item.checked\n      }).reduce((oldValue, item) => {\n        let num = parseFloat(item.price.substr(1, item.price.length-1))\n        return oldValue + num * item.count\n      }, 0)\n    },\n    checkLength () {\n      return this.cartList.filter(item => item.checked).length\n    },\n    isSelectAll() {\n      if(this.cartList.length === 0)  return false\n      // 1. 使用高级函数\n      // return (!this.cartList.filter(item => !item.checked).length)\n      return !this.cartList.find(item => !item.checked)\n      // 2. 遍历\n      // for(let item of this.cartList) {\n      //   if(!item.checked) {\n      //     return false\n      //   }\n      //   return true\n      // }\n    }\n  },\n  methods: {\n    buttonChange() {\n      if(this.isSelectAll) { // 全部选中\n        this.cartList.forEach(element => element.checked = false);\n\n      }else { // 没有全部选中(部分不选中)\n        this.cartList.forEach(element => element.checked = true);\n      }\n      // this.cartList.forEach(element => element.checked = !this.isSelectAll);\n    },\n    calcClick() {\n\n      if(!this.isSelectAll) {\n        this.$toast.show(\"请选择购买的商品\");\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .button-bar {\n    display: flex;\n    position: relative;\n    height: 40px;\n    line-height: 40px;\n    font-size: 14px;\n    background-color: #eee;\n  }\n  .check-content {\n    display: flex;\n    align-items: center;\n    margin-left: 15px;\n    margin-right: 5px;\n    width: 90px;\n  }\n  .check-button {\n    width: 20px;\n    height: 20px;\n    line-height: 18px;\n  }\n  .price {\n    margin-left: 10px;\n    flex: 1;\n  }\n  .button-bar .calculate {\n    /* float: right!important; 在flex中不起作用*/\n    /* margin-left: 50px; */\n    text-align: center;\n    width: 90px;\n    background-color: red;\n    color: #fff;\n  }\n</style>\n"],"sourceRoot":"src/views/cart/childComps"}]}