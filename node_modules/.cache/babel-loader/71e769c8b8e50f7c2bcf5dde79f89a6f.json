{"remainingRequest":"D:\\vue项目\\supermall-s\\supermall\\node_modules\\babel-loader\\lib\\index.js!D:\\vue项目\\supermall-s\\supermall\\src\\store\\actions.js","dependencies":[{"path":"D:\\vue项目\\supermall-s\\supermall\\src\\store\\actions.js","mtime":1620893710000},{"path":"D:\\vue项目\\supermall-s\\supermall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655460943176},{"path":"D:\\vue项目\\supermall-s\\supermall\\node_modules\\babel-loader\\lib\\index.js","mtime":1655460947168}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgeyBBRERfQ09VTlRFUiwgQUREX1RPX0NBUlQgfSBmcm9tICcuL211dGF0aW9uLXR5cGUnOwpleHBvcnQgZGVmYXVsdCB7CiAgYWRkQ2FydDogZnVuY3Rpb24gYWRkQ2FydChjb250ZXh0LCBwYXlsb2FkKSB7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAvKiAgIGxldCBvbGRQcm9kdWN0ID0gbnVsbAogICAgICBmb3IobGV0IGl0ZW0gb2Ygc3RhdGUuY2FydGxpc3QpIHsKICAgICAgICBpZihpdGVtLmlpZCA9PT0gcGF5bG9hZC5paWQpIHsKICAgICAgICAgICAgb2xkUHJvZHVjdCA9IGl0ZW0KICAgICAgICB9CiAgICAgIH0gKi8KICAgICAgLy8g5p+l5om+5pWw57uE5Lit5piv5ZCm5pyJ6K+l5ZWG5ZOBCiAgICAgIHZhciBvbGRQcm9kdWN0ID0gY29udGV4dC5zdGF0ZS5jYXJ0bGlzdC5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uaWlkID09PSBwYXlsb2FkLmlpZDsKICAgICAgfSk7IC8vIDIuIOWIpOaWrW9sZFByb2R1Y3TmmK/mnInlgLwKCiAgICAgIGlmIChvbGRQcm9kdWN0KSB7CiAgICAgICAgLy8g5pWw6YeP5Yqg5LiACiAgICAgICAgLy8gb2xkUHJvZHVjdC5jb3VudCArPSAxOwogICAgICAgIGNvbnRleHQuY29tbWl0KEFERF9DT1VOVEVSLCBvbGRQcm9kdWN0KTsKICAgICAgICByZXNvbHZlKCLlvZPliY3nmoTllYblk4HmlbDph48rMSIpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIOa3u+WKoOaWsOeahOWVhuWTgeWIsOi0reeJqei9pgogICAgICAgIC8vIHBheWxvYWQuY291bnQgPSAxCiAgICAgICAgLy8gc3RhdGUuY2FydGxpc3QucHVzaChwYXlsb2FkKQogICAgICAgIGNvbnRleHQuY29tbWl0KEFERF9UT19DQVJULCBwYXlsb2FkKTsKICAgICAgICByZXNvbHZlKCLmt7vliqDkuobmlrDnmoTllYblk4EiKTsKICAgICAgfQogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["D:/vue项目/supermall-s/supermall/src/store/actions.js"],"names":["ADD_COUNTER","ADD_TO_CART","addCart","context","payload","Promise","resolve","reject","oldProduct","state","cartlist","find","item","iid","commit"],"mappings":";;AAAA,SAAQA,WAAR,EAAqBC,WAArB,QAAuC,iBAAvC;AACA,eAAe;AACVC,EAAAA,OADU,mBACFC,OADE,EACOC,OADP,EACgB;AACzB,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC;AACV;AACA;AACA;AACA;AACA;AACQ;AACA,UAAIC,UAAU,GAAGL,OAAO,CAACM,KAAR,CAAcC,QAAd,CAAuBC,IAAvB,CAA4B,UAAAC,IAAI;AAAA,eAAIA,IAAI,CAACC,GAAL,KAAaT,OAAO,CAACS,GAAzB;AAAA,OAAhC,CAAjB,CARsC,CAStC;;AACA,UAAGL,UAAH,EAAe;AAAE;AACb;AACAL,QAAAA,OAAO,CAACW,MAAR,CAAed,WAAf,EAA4BQ,UAA5B;AACAF,QAAAA,OAAO,CAAC,WAAD,CAAP;AACH,OAJD,MAIM;AAAE;AACJ;AACA;AACAH,QAAAA,OAAO,CAACW,MAAR,CAAeb,WAAf,EAA4BG,OAA5B;AACAE,QAAAA,OAAO,CAAC,SAAD,CAAP;AACH;AACF,KApBM,CAAP;AAqBD;AAvBU,CAAf","sourcesContent":["import {ADD_COUNTER, ADD_TO_CART} from './mutation-type'\nexport default {\n     addCart(context, payload) {\n      return new Promise((resolve, reject) => {\n          /*   let oldProduct = null\n         for(let item of state.cartlist) {\n            if(item.iid === payload.iid) {\n                oldProduct = item\n            }\n        } */\n        // 查找数组中是否有该商品\n        let oldProduct = context.state.cartlist.find(item => item.iid === payload.iid)\n        // 2. 判断oldProduct是有值\n        if(oldProduct) { // 数量加一\n            // oldProduct.count += 1;\n            context.commit(ADD_COUNTER, oldProduct)\n            resolve(\"当前的商品数量+1\")\n        }else { // 添加新的商品到购物车\n            // payload.count = 1\n            // state.cartlist.push(payload)\n            context.commit(ADD_TO_CART, payload)\n            resolve(\"添加了新的商品\")\n        }\n      })\n    }\n}\n"]}]}