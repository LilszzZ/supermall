{"remainingRequest":"D:\\vue项目\\supermall-master\\node_modules\\babel-loader\\lib\\index.js!D:\\vue项目\\supermall-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vue项目\\supermall-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue项目\\supermall-master\\src\\views\\cart\\childComps\\CartTotal.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue项目\\supermall-master\\src\\views\\cart\\childComps\\CartTotal.vue","mtime":1620893710000},{"path":"D:\\vue项目\\supermall-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655460943176},{"path":"D:\\vue项目\\supermall-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1655460947168},{"path":"D:\\vue项目\\supermall-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655460943176},{"path":"D:\\vue项目\\supermall-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1655460947237}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBDYXJ0Q2hlY2tCdXR0b24gZnJvbSAiLi9DYXJ0Q2hlY2tCdXR0b24udnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXB1dGVkOiB7CiAgICBjYXJ0TGlzdDogZnVuY3Rpb24gY2FydExpc3QoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5jYXJ0bGlzdDsKICAgIH0sCiAgICBjaGVja2VkSXRlbTogZnVuY3Rpb24gY2hlY2tlZEl0ZW0oKSB7CiAgICAgIHJldHVybiB0aGlzLmNhcnRMaXN0LmZpbHRlcihmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICByZXR1cm4gaXRlbS5jaGVja2VkID09IHRydWU7CiAgICAgIH0pOwogICAgfSwKICAgIHRvdGFsTGVuZ3RoOiBmdW5jdGlvbiB0b3RhbExlbmd0aCgpIHsKICAgICAgcmV0dXJuIHRoaXMuY2hlY2tlZEl0ZW0ubGVuZ3RoOwogICAgfSwKICAgIHRvdGFsUHJpY2U6IGZ1bmN0aW9uIHRvdGFsUHJpY2UoKSB7CiAgICAgIHJldHVybiB0aGlzLmNoZWNrZWRJdGVtLnJlZHVjZShmdW5jdGlvbiAocHJlLCBjdXJyKSB7CiAgICAgICAgcmV0dXJuIHByZSArIGN1cnIuY291bnQgKiBjdXJyLnByaWNlOwogICAgICB9LCAwKTsKICAgIH0sCiAgICBjaGVja0FsbDogZnVuY3Rpb24gY2hlY2tBbGwoKSB7CiAgICAgIGlmICh0aGlzLmNhcnRMaXN0Lmxlbmd0aCA9PSAwKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB0aGlzLmNhcnRMaXN0LmV2ZXJ5KGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgcmV0dXJuIHZhbHVlLmNoZWNrZWQgPT0gdHJ1ZTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgQ2FydENoZWNrQnV0dG9uOiBDYXJ0Q2hlY2tCdXR0b24KICB9LAogIGZpbHRlcnM6IHsKICAgIGtlZXAyRGVjaW1hbDogZnVuY3Rpb24ga2VlcDJEZWNpbWFsKHZhbHVlKSB7CiAgICAgIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlICogMTAwKSAvIDEwMDsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGNoZWNrQ2xpY2s6IGZ1bmN0aW9uIGNoZWNrQ2xpY2soKSB7CiAgICAgIC8qIGlmICh0aGlzLmNoZWNrQWxsID09IHRydWUpIHsKICAgICAgICB0aGlzLmNhcnRMaXN0LmZvckVhY2goaXRlbSA9PiBpdGVtLmNoZWNrZWQgPSBmYWxzZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jYXJ0TGlzdC5mb3JFYWNoKGl0ZW0gPT4gaXRlbS5jaGVja2VkID0gdHJ1ZSk7CiAgICAgIH0gKi8KICAgICAgdmFyIGNoZWNrRmxhZyA9ICF0aGlzLmNoZWNrQWxsOwogICAgICB0aGlzLmNhcnRMaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5jaGVja2VkID0gY2hlY2tGbGFnOwogICAgICB9KTsKICAgIH0sCiAgICBidXlTdGg6IGZ1bmN0aW9uIGJ1eVN0aCgpIHsKICAgICAgaWYgKHRoaXMudG90YWxMZW5ndGggPT0gMCkgewogICAgICAgIHRoaXMuJHRvYXN0LnNob3coIuivt+mAieaLqeimgei0reS5sOeahOWVhuWTgSIpOwogICAgICB9IGVsc2Ugey8vPT09PT7otK3kubDnlYzpnaLvvIznoa7orqTkv6Hmga8KICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["CartTotal.vue"],"names":[],"mappings":";;;;;;;;;;;AAUA,OAAA,eAAA,MAAA,uBAAA;AACA,eAAA;AACA,EAAA,QAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA;AACA,KAHA;AAIA,IAAA,WAJA,yBAIA;AACA,aAAA,KAAA,QAAA,CAAA,MAAA,CAAA,UAAA,IAAA,EAAA,KAAA;AAAA,eAAA,IAAA,CAAA,OAAA,IAAA,IAAA;AAAA,OAAA,CAAA;AACA,KANA;AAOA,IAAA,WAPA,yBAOA;AACA,aAAA,KAAA,WAAA,CAAA,MAAA;AACA,KATA;AAUA,IAAA,UAVA,wBAUA;AACA,aAAA,KAAA,WAAA,CAAA,MAAA,CACA,UAAA,GAAA,EAAA,IAAA;AAAA,eAAA,GAAA,GAAA,IAAA,CAAA,KAAA,GAAA,IAAA,CAAA,KAAA;AAAA,OADA,EAEA,CAFA,CAAA;AAIA,KAfA;AAgBA,IAAA,QAhBA,sBAgBA;AACA,UAAA,KAAA,QAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,eAAA,KAAA;AACA,OAFA,MAEA;AACA,eAAA,KAAA,QAAA,CAAA,KAAA,CAAA,UAAA,KAAA;AAAA,iBAAA,KAAA,CAAA,OAAA,IAAA,IAAA;AAAA,SAAA,CAAA;AACA;AACA;AAtBA,GADA;AAyBA,EAAA,UAAA,EAAA;AACA,IAAA,eAAA,EAAA;AADA,GAzBA;AA4BA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,wBACA,KADA,EACA;AACA,aAAA,IAAA,CAAA,KAAA,CAAA,KAAA,GAAA,GAAA,IAAA,GAAA;AACA;AAHA,GA5BA;AAiCA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAA,SAAA,GAAA,CAAA,KAAA,QAAA;AACA,WAAA,QAAA,CAAA,OAAA,CAAA,UAAA,IAAA;AAAA,eAAA,IAAA,CAAA,OAAA,GAAA,SAAA;AAAA,OAAA;AACA,KATA;AAUA,IAAA,MAVA,oBAUA;AACA,UAAA,KAAA,WAAA,IAAA,CAAA,EAAA;AACA,aAAA,MAAA,CAAA,IAAA,CAAA,WAAA;AACA,OAFA,MAEA,CACA;AACA;AACA;AAhBA;AAjCA,CAAA","sourcesContent":["<template>\n  <div id=\"cart_total\">\n    <div @click=\"checkClick\" style=\"display: flex;\">\n      <cart-check-button :isChecked=\"checkAll\" ref=\"checkButtonRef\" />全选\n    </div>\n    <div class=\"calc\">总计：￥{{ totalPrice | keep2Decimal }}</div>\n    <div class=\"buy\" @click=\"buySth\">去购买({{ totalLength }})</div>\n  </div>\n</template>\n<script>\nimport CartCheckButton from \"./CartCheckButton.vue\";\nexport default {\n  computed: {\n    cartList() {\n      return this.$store.state.cartlist;\n    },\n    checkedItem() {\n      return this.cartList.filter((item, index) => item.checked == true);\n    },\n    totalLength() {\n      return this.checkedItem.length;\n    },\n    totalPrice() {\n      return this.checkedItem.reduce(\n        (pre, curr) => pre + curr.count * curr.price,\n        0\n      );\n    },\n    checkAll() {\n      if (this.cartList.length == 0) {\n        return false;\n      } else {\n        return this.cartList.every(value => value.checked == true);\n      }\n    }\n  },\n  components: {\n    CartCheckButton\n  },\n  filters: {\n    keep2Decimal(value) {\n      return Math.round(value * 100) / 100;\n    }\n  },\n  methods: {\n    checkClick() {\n      /* if (this.checkAll == true) {\n        this.cartList.forEach(item => item.checked = false);\n      } else {\n        this.cartList.forEach(item => item.checked = true);\n      } */\n      let checkFlag = !this.checkAll;\n      this.cartList.forEach(item => (item.checked = checkFlag));\n    },\n    buySth() {\n      if (this.totalLength == 0) {\n        this.$toast.show(\"请选择要购买的商品\");\n      } else {\n        //====>购买界面，确认信息\n      }\n    }\n  }\n};\n</script>\n<style scoped>\n#cart_total {\n  font-size: 0.7rem;\n  height: 1.9rem;\n  display: flex;\n  background-color: rgb(228, 228, 228);\n  line-height: 1.9rem;\n  text-align: center;\n}\n\n.calc {\n  flex: 1;\n}\n.buy {\n  width: 5rem;\n  background-color: #f03;\n  color: white;\n}\n</style>\n"],"sourceRoot":"src/views/cart/childComps"}]}