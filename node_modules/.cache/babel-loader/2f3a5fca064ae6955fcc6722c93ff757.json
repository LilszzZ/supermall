{"remainingRequest":"D:\\vue项目\\supermall-s\\supermall\\node_modules\\babel-loader\\lib\\index.js!D:\\vue项目\\supermall-s\\supermall\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vue项目\\supermall-s\\supermall\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue项目\\supermall-s\\supermall\\src\\views\\cart\\childComps\\CartButtonBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue项目\\supermall-s\\supermall\\src\\views\\cart\\childComps\\CartButtonBar.vue","mtime":1620893710000},{"path":"D:\\vue项目\\supermall-s\\supermall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655460943176},{"path":"D:\\vue项目\\supermall-s\\supermall\\node_modules\\babel-loader\\lib\\index.js","mtime":1655460947168},{"path":"D:\\vue项目\\supermall-s\\supermall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655460943176},{"path":"D:\\vue项目\\supermall-s\\supermall\\node_modules\\vue-loader\\lib\\index.js","mtime":1655460947237}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovdnVlXHU5ODc5XHU3NkVFL3N1cGVybWFsbC1zL3N1cGVybWFsbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IENhcnRDaGVja0J1dHRvbiBmcm9tICIuL0NhcnRDaGVja0J1dHRvbiI7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJDYXJ0QnV0dG9uQmFyIiwKICBjb21wb25lbnRzOiB7CiAgICBDYXJ0Q2hlY2tCdXR0b246IENhcnRDaGVja0J1dHRvbgogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbJ2NhcnRMaXN0J10pKSwge30sIHsKICAgIHRvdGFsUHJpY2U6IGZ1bmN0aW9uIHRvdGFsUHJpY2UoKSB7CiAgICAgIHJldHVybiAn77+lJyArIHRoaXMuY2FydExpc3QuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uY2hlY2tlZDsKICAgICAgfSkucmVkdWNlKGZ1bmN0aW9uIChvbGRWYWx1ZSwgaXRlbSkgewogICAgICAgIHZhciBudW0gPSBwYXJzZUZsb2F0KGl0ZW0ucHJpY2Uuc3Vic3RyKDEsIGl0ZW0ucHJpY2UubGVuZ3RoIC0gMSkpOwogICAgICAgIHJldHVybiBvbGRWYWx1ZSArIG51bSAqIGl0ZW0uY291bnQ7CiAgICAgIH0sIDApOwogICAgfSwKICAgIGNoZWNrTGVuZ3RoOiBmdW5jdGlvbiBjaGVja0xlbmd0aCgpIHsKICAgICAgcmV0dXJuIHRoaXMuY2FydExpc3QuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uY2hlY2tlZDsKICAgICAgfSkubGVuZ3RoOwogICAgfSwKICAgIGlzU2VsZWN0QWxsOiBmdW5jdGlvbiBpc1NlbGVjdEFsbCgpIHsKICAgICAgaWYgKHRoaXMuY2FydExpc3QubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7IC8vIDEuIOS9v+eUqOmrmOe6p+WHveaVsAogICAgICAvLyByZXR1cm4gKCF0aGlzLmNhcnRMaXN0LmZpbHRlcihpdGVtID0+ICFpdGVtLmNoZWNrZWQpLmxlbmd0aCkKCiAgICAgIHJldHVybiAhdGhpcy5jYXJ0TGlzdC5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuICFpdGVtLmNoZWNrZWQ7CiAgICAgIH0pOyAvLyAyLiDpgY3ljoYKICAgICAgLy8gZm9yKGxldCBpdGVtIG9mIHRoaXMuY2FydExpc3QpIHsKICAgICAgLy8gICBpZighaXRlbS5jaGVja2VkKSB7CiAgICAgIC8vICAgICByZXR1cm4gZmFsc2UKICAgICAgLy8gICB9CiAgICAgIC8vICAgcmV0dXJuIHRydWUKICAgICAgLy8gfQogICAgfQogIH0pLAogIG1ldGhvZHM6IHsKICAgIGJ1dHRvbkNoYW5nZTogZnVuY3Rpb24gYnV0dG9uQ2hhbmdlKCkgewogICAgICBpZiAodGhpcy5pc1NlbGVjdEFsbCkgewogICAgICAgIC8vIOWFqOmDqOmAieS4rQogICAgICAgIHRoaXMuY2FydExpc3QuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAgcmV0dXJuIGVsZW1lbnQuY2hlY2tlZCA9IGZhbHNlOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIOayoeacieWFqOmDqOmAieS4rSjpg6jliIbkuI3pgInkuK0pCiAgICAgICAgdGhpcy5jYXJ0TGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICByZXR1cm4gZWxlbWVudC5jaGVja2VkID0gdHJ1ZTsKICAgICAgICB9KTsKICAgICAgfSAvLyB0aGlzLmNhcnRMaXN0LmZvckVhY2goZWxlbWVudCA9PiBlbGVtZW50LmNoZWNrZWQgPSAhdGhpcy5pc1NlbGVjdEFsbCk7CgogICAgfSwKICAgIGNhbGNDbGljazogZnVuY3Rpb24gY2FsY0NsaWNrKCkgewogICAgICBpZiAoIXRoaXMuaXNTZWxlY3RBbGwpIHsKICAgICAgICB0aGlzLiR0b2FzdC5zaG93KCLor7fpgInmi6notK3kubDnmoTllYblk4EiKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["CartButtonBar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAgBA,OAAA,eAAA,MAAA,mBAAA;AACA,SAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,eADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,eAAA,EAAA;AADA,GAFA;AAKA,EAAA,QAAA,kCACA,UAAA,CAAA,CAAA,UAAA,CAAA,CADA;AAEA,IAAA,UAFA,wBAEA;AACA,aAAA,MAAA,KAAA,QAAA,CAAA,MAAA,CAAA,UAAA,IAAA,EAAA;AACA,eAAA,IAAA,CAAA,OAAA;AACA,OAFA,EAEA,MAFA,CAEA,UAAA,QAAA,EAAA,IAAA,EAAA;AACA,YAAA,GAAA,GAAA,UAAA,CAAA,IAAA,CAAA,KAAA,CAAA,MAAA,CAAA,CAAA,EAAA,IAAA,CAAA,KAAA,CAAA,MAAA,GAAA,CAAA,CAAA,CAAA;AACA,eAAA,QAAA,GAAA,GAAA,GAAA,IAAA,CAAA,KAAA;AACA,OALA,EAKA,CALA,CAAA;AAMA,KATA;AAUA,IAAA,WAVA,yBAUA;AACA,aAAA,KAAA,QAAA,CAAA,MAAA,CAAA,UAAA,IAAA;AAAA,eAAA,IAAA,CAAA,OAAA;AAAA,OAAA,EAAA,MAAA;AACA,KAZA;AAaA,IAAA,WAbA,yBAaA;AACA,UAAA,KAAA,QAAA,CAAA,MAAA,KAAA,CAAA,EAAA,OAAA,KAAA,CADA,CAEA;AACA;;AACA,aAAA,CAAA,KAAA,QAAA,CAAA,IAAA,CAAA,UAAA,IAAA;AAAA,eAAA,CAAA,IAAA,CAAA,OAAA;AAAA,OAAA,CAAA,CAJA,CAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzBA,IALA;AAgCA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AACA,UAAA,KAAA,WAAA,EAAA;AAAA;AACA,aAAA,QAAA,CAAA,OAAA,CAAA,UAAA,OAAA;AAAA,iBAAA,OAAA,CAAA,OAAA,GAAA,KAAA;AAAA,SAAA;AAEA,OAHA,MAGA;AAAA;AACA,aAAA,QAAA,CAAA,OAAA,CAAA,UAAA,OAAA;AAAA,iBAAA,OAAA,CAAA,OAAA,GAAA,IAAA;AAAA,SAAA;AACA,OANA,CAOA;;AACA,KATA;AAUA,IAAA,SAVA,uBAUA;AAEA,UAAA,CAAA,KAAA,WAAA,EAAA;AACA,aAAA,MAAA,CAAA,IAAA,CAAA,UAAA;AACA;AACA;AAfA;AAhCA,CAAA","sourcesContent":["<template>\n  <div class=\"button-bar\">\n    <div class=\"check-content\">\n      <cart-check-button  class=\"check-button\"\n                          :is-checked=\"isSelectAll\"\n                          @click.native=\"buttonChange\"/>\n      <span>全选</span>\n    </div>\n    <div class=\"price\">\n      合计：　{{totalPrice}}\n    </div>\n    <div class=\"calculate\" @click=\"calcClick\">去计算：({{checkLength}})</div>\n  </div>\n</template>\n\n<script>\nimport CartCheckButton from \"./CartCheckButton\";\nimport {mapGetters } from 'vuex'\nexport default {\n  name: \"CartButtonBar\",\n  components: {\n    CartCheckButton,\n  },\n  computed: {\n    ...mapGetters(['cartList']),\n    totalPrice() {\n      return '￥' + this.cartList.filter(item => {\n       return  item.checked\n      }).reduce((oldValue, item) => {\n        let num = parseFloat(item.price.substr(1, item.price.length-1))\n        return oldValue + num * item.count\n      }, 0)\n    },\n    checkLength () {\n      return this.cartList.filter(item => item.checked).length\n    },\n    isSelectAll() {\n      if(this.cartList.length === 0)  return false\n      // 1. 使用高级函数\n      // return (!this.cartList.filter(item => !item.checked).length)\n      return !this.cartList.find(item => !item.checked)\n      // 2. 遍历\n      // for(let item of this.cartList) {\n      //   if(!item.checked) {\n      //     return false\n      //   }\n      //   return true\n      // }\n    }\n  },\n  methods: {\n    buttonChange() {\n      if(this.isSelectAll) { // 全部选中\n        this.cartList.forEach(element => element.checked = false);\n\n      }else { // 没有全部选中(部分不选中)\n        this.cartList.forEach(element => element.checked = true);\n      }\n      // this.cartList.forEach(element => element.checked = !this.isSelectAll);\n    },\n    calcClick() {\n\n      if(!this.isSelectAll) {\n        this.$toast.show(\"请选择购买的商品\");\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .button-bar {\n    display: flex;\n    position: relative;\n    height: 40px;\n    line-height: 40px;\n    font-size: 14px;\n    background-color: #eee;\n  }\n  .check-content {\n    display: flex;\n    align-items: center;\n    margin-left: 15px;\n    margin-right: 5px;\n    width: 90px;\n  }\n  .check-button {\n    width: 20px;\n    height: 20px;\n    line-height: 18px;\n  }\n  .price {\n    margin-left: 10px;\n    flex: 1;\n  }\n  .button-bar .calculate {\n    /* float: right!important; 在flex中不起作用*/\n    /* margin-left: 50px; */\n    text-align: center;\n    width: 90px;\n    background-color: red;\n    color: #fff;\n  }\n</style>\n"],"sourceRoot":"src/views/cart/childComps"}]}