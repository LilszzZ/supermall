{"remainingRequest":"D:\\vue项目\\supermall-s\\supermall\\node_modules\\babel-loader\\lib\\index.js!D:\\vue项目\\supermall-s\\supermall\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vue项目\\supermall-s\\supermall\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue项目\\supermall-s\\supermall\\src\\views\\detail\\Detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue项目\\supermall-s\\supermall\\src\\views\\detail\\Detail.vue","mtime":1620893710000},{"path":"D:\\vue项目\\supermall-s\\supermall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655460943176},{"path":"D:\\vue项目\\supermall-s\\supermall\\node_modules\\babel-loader\\lib\\index.js","mtime":1655460947168},{"path":"D:\\vue项目\\supermall-s\\supermall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655460943176},{"path":"D:\\vue项目\\supermall-s\\supermall\\node_modules\\vue-loader\\lib\\index.js","mtime":1655460947237}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovdnVlXHU5ODc5XHU3NkVFL3N1cGVybWFsbC1zL3N1cGVybWFsbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBTY3JvbGwgZnJvbSAiY29tcG9uZW50cy9jb21tb24vc2Nyb2xsL1Njcm9sbCI7CmltcG9ydCBHb29kc0xpc3QgZnJvbSAiY29tcG9uZW50cy9jb250ZW50L2dvb2RzL0dvb2RzTGlzdCI7IC8vIGltcG9ydCBUb2FzdCBmcm9tICdjb21wb25lbnRzL2NvbW1vbi90b2FzdC9Ub2FzdCcKCmltcG9ydCBEZXRhaWxOYXZCYXIgZnJvbSAiLi9jaGlsZENvbXBzL0RldGFpbE5hdkJhciI7CmltcG9ydCBEZXRhaWxTd2lwZXIgZnJvbSAiLi9jaGlsZENvbXBzL0RldGFpbFN3aXBlciI7CmltcG9ydCBEZXRhaWxCYXNlSW5mbyBmcm9tICIuL2NoaWxkQ29tcHMvRGV0YWlsQmFzZUluZm8iOwppbXBvcnQgRGV0YWlsU2hvcEluZm8gZnJvbSAiLi9jaGlsZENvbXBzL0RldGFpbFNob3BJbmZvIjsKaW1wb3J0IERldGFpbEdvb2RzSW5mbyBmcm9tICIuL2NoaWxkQ29tcHMvRGV0YWlsR29vZHNJbmZvIjsKaW1wb3J0IERldGFpbFBhcmFtcyBmcm9tICIuL2NoaWxkQ29tcHMvRGV0YWlsUGFyYW1zIjsKaW1wb3J0IERldGFpbENvbW1lbnRJbmZvIGZyb20gIi4vY2hpbGRDb21wcy9EZXRhaWxDb21tZW50SW5mbyI7CmltcG9ydCBEZXRhaWxCb3R0b21CYXIgZnJvbSAiLi9jaGlsZENvbXBzL0RldGFpbEJvdHRvbUJhciI7CmltcG9ydCB7IGdldERldGFpbCwgR29vZHMsIFNob3AsIEdvb2RzUGFyYW0sIGdldFJlY29tbWVuZCB9IGZyb20gIkAvbmV0d29yay9kZXRhaWwiOwppbXBvcnQgeyBpdGVtTGlzdGVuZXJNaXhpbiwgYmFja1RvcE1peGluIH0gZnJvbSAiQC9jb21tb24vbWl4aW4iOwppbXBvcnQgeyBkZWJvdW5jZSB9IGZyb20gIkAvY29tbW9uL3V0aWxzIjsKaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkRldGFpbCIsCiAgY29tcG9uZW50czogewogICAgU2Nyb2xsOiBTY3JvbGwsCiAgICBHb29kc0xpc3Q6IEdvb2RzTGlzdCwKICAgIC8vIFRvYXN0LAogICAgRGV0YWlsU3dpcGVyOiBEZXRhaWxTd2lwZXIsCiAgICBEZXRhaWxOYXZCYXI6IERldGFpbE5hdkJhciwKICAgIERldGFpbEJhc2VJbmZvOiBEZXRhaWxCYXNlSW5mbywKICAgIERldGFpbFNob3BJbmZvOiBEZXRhaWxTaG9wSW5mbywKICAgIERldGFpbEdvb2RzSW5mbzogRGV0YWlsR29vZHNJbmZvLAogICAgRGV0YWlsUGFyYW1zOiBEZXRhaWxQYXJhbXMsCiAgICBEZXRhaWxDb21tZW50SW5mbzogRGV0YWlsQ29tbWVudEluZm8sCiAgICBEZXRhaWxCb3R0b21CYXI6IERldGFpbEJvdHRvbUJhciwKICAgIGdldERldGFpbDogZ2V0RGV0YWlsCiAgfSwKICBtaXhpbnM6IFtpdGVtTGlzdGVuZXJNaXhpbiwgYmFja1RvcE1peGluXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaWlkOiBudWxsLAogICAgICB0b3BJbWFnZXM6IFtdLAogICAgICBnb29kczoge30sCiAgICAgIHNob3A6IHt9LAogICAgICBkZXRhaWxJbmZvOiB7fSwKICAgICAgcGFyYW1zSW5mbzoge30sCiAgICAgIGNvbW1lbnRJbmZvOiB7fSwKICAgICAgcmVjb21tZW5kOiBbXSwKICAgICAgdGhlbWVUb3BZczogW10sCiAgICAgIGdldFRoZW1lVG9wWTogbnVsbCwKICAgICAgY3VycmVudEluZGV4OiAwIC8vIG1lc3NhZ2U6ICcnLAogICAgICAvLyBzaG93OiBmYWxzZQoKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAvLyAxLiDkv53lrZjkvKDlhaXnmoRpaWQKICAgIHRoaXMuaWlkID0gdGhpcy4kcm91dGUucGFyYW1zLmlpZDsgLy8gMi4g5qC55o2uaWlk6K+35rGC6K+m5oOF5pWw5o2uCgogICAgZ2V0RGV0YWlsKHRoaXMuaWlkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAvLyAxLiDojrflj5bpobbpg6jova7mkq3mlbDmja4KICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5yZXN1bHQ7CiAgICAgIF90aGlzLnRvcEltYWdlcyA9IGRhdGEuaXRlbUluZm8udG9wSW1hZ2VzOyAvLyAyLiDojrflj5bllYblk4Hkv6Hmga8KCiAgICAgIF90aGlzLmdvb2RzID0gbmV3IEdvb2RzKGRhdGEuaXRlbUluZm8sIGRhdGEuY29sdW1ucywgZGF0YS5zaG9wSW5mby5zZXJ2aWNlcyk7IC8vIDMuIOiOt+WPluW6l+mTuuS/oeaBrwoKICAgICAgX3RoaXMuc2hvcCA9IG5ldyBTaG9wKGRhdGEuc2hvcEluZm8pOyAvLyA0LiDojrflj5bllYblk4HnmoTor6bmg4XmlbDmja4KCiAgICAgIF90aGlzLmRldGFpbEluZm8gPSBkYXRhLmRldGFpbEluZm87IC8vIDUuIOiOt+WPluWPguaVsOS/oeaBrwoKICAgICAgX3RoaXMucGFyYW1zSW5mbyA9IG5ldyBHb29kc1BhcmFtKGRhdGEuaXRlbVBhcmFtcy5pbmZvLCBkYXRhLml0ZW1QYXJhbXMucnVsZSk7IC8vIDYu6I635Y+W6K+E6K665L+h5oGvCgogICAgICBpZiAoZGF0YS5yYXRlLmNSYXRlICE9PSAwKSB7CiAgICAgICAgX3RoaXMuY29tbWVudEluZm8gPSBkYXRhLnJhdGUubGlzdFswXTsKICAgICAgfQogICAgICAvKgogICAgICBET03msqHmnInmuLLmn5MKICAgICAgdGhpcy50aGVtZVRvcFlzLnB1c2goMCkKICAgICAgdGhpcy50aGVtZVRvcFlzLnB1c2goLXRoaXMuJHJlZnMucGFyYW1zLiRlbC5vZmZzZXRUb3ApCiAgICAgIHRoaXMudGhlbWVUb3BZcy5wdXNoKC10aGlzLiRyZWZzLmNvbW1lbnQuJGVsLm9mZnNldFRvcCkKICAgICAgdGhpcy50aGVtZVRvcFlzLnB1c2goLXRoaXMuJHJlZnMucmVjb21tZW5kLiRlbC5vZmZzZXRUb3ApCiAgICAgIGNvbnNvbGUubG9nKHRoaXMudGhlbWVUb3BZcyk7Ki8KCgogICAgICBfdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIC8qICDlm77niYfmsqHmnInliqDovb3lrozmiJAKICAgICAgICAgICAgdGhpcy50aGVtZVRvcFlzID0gW10KICAgICAgICAgICAgdGhpcy50aGVtZVRvcFlzLnB1c2goMCkKICAgICAgICAgICAgdGhpcy50aGVtZVRvcFlzLnB1c2goLXRoaXMuJHJlZnMucGFyYW1zLiRlbC5vZmZzZXRUb3ApCiAgICAgICAgICAgIHRoaXMudGhlbWVUb3BZcy5wdXNoKC10aGlzLiRyZWZzLmNvbW1lbnQuJGVsLm9mZnNldFRvcCkKICAgICAgICAgICAgdGhpcy50aGVtZVRvcFlzLnB1c2goLXRoaXMuJHJlZnMucmVjb21tZW5kLiRlbC5vZmZzZXRUb3ApCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMudGhlbWVUb3BZcyk7Ki8KICAgICAgfSk7CiAgICB9KTsKICAgIGdldFJlY29tbWVuZCgpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIF90aGlzLnJlY29tbWVuZCA9IHJlc3BvbnNlLmRhdGEubGlzdDsKICAgIH0pOyAvLyA0LiDnu5lnZXRUaGVtZVRvcFnotYvlgLwg57uZ5Ye95pWw6LWL5YC86L+b6KGM6Ziy5oqWCgogICAgdGhpcy5nZXRUaGVtZVRvcFkgPSBkZWJvdW5jZShmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLnRoZW1lVG9wWXMgPSBbXTsKCiAgICAgIF90aGlzLnRoZW1lVG9wWXMucHVzaCgwKTsKCiAgICAgIF90aGlzLnRoZW1lVG9wWXMucHVzaChfdGhpcy4kcmVmcy5wYXJhbXMuJGVsLm9mZnNldFRvcCk7CgogICAgICBfdGhpcy50aGVtZVRvcFlzLnB1c2goX3RoaXMuJHJlZnMuY29tbWVudC4kZWwub2Zmc2V0VG9wKTsKCiAgICAgIF90aGlzLnRoZW1lVG9wWXMucHVzaChfdGhpcy4kcmVmcy5yZWNvbW1lbmQuJGVsLm9mZnNldFRvcCk7CgogICAgICBfdGhpcy50aGVtZVRvcFlzLnB1c2goTnVtYmVyLk1BWF9WQUxVRSk7CiAgICB9LCAxMDApOwogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKFsnYWRkQ2FydCddKSksIHt9LCB7CiAgICBpbWFnZUxvYWQ6IGZ1bmN0aW9uIGltYWdlTG9hZCgpIHsKICAgICAgLy8gdGhpcy4kcmVmcy5zY3JvbGwucmVmcmVzaCgpCiAgICAgIHRoaXMucmVmcmVzaCgpOwogICAgICB0aGlzLmdldFRoZW1lVG9wWSgpOwogICAgfSwKICAgIHRpdGxlQ2xpY2s6IGZ1bmN0aW9uIHRpdGxlQ2xpY2soaW5kZXgpIHsKICAgICAgdGhpcy4kcmVmcy5zY3JvbGwuc2Nyb2xsVG8oMCwgLXRoaXMudGhlbWVUb3BZc1tpbmRleF0sIDIwMCk7CiAgICB9LAogICAgY29udGVudFNjcm9sbDogZnVuY3Rpb24gY29udGVudFNjcm9sbChwb3NpdGlvbikgewogICAgICB2YXIgcG9zaXRpb25ZID0gLXBvc2l0aW9uLnk7CiAgICAgIHZhciBsZW5ndGggPSB0aGlzLnRoZW1lVG9wWXMubGVuZ3RoOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGggLSAxOyBpKyspIHsKICAgICAgICBpZiAodGhpcy5jdXJyZW50SW5kZXggIT09IGkgJiYgcG9zaXRpb25ZID49IHRoaXMudGhlbWVUb3BZc1tpXSAmJiBwb3NpdGlvblkgPCB0aGlzLnRoZW1lVG9wWXNbaSArIDFdKSB7CiAgICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IGk7CiAgICAgICAgICB0aGlzLiRyZWZzLkRldGFpbE5hdi5jdXJyZW50SW5kZXggPSB0aGlzLmN1cnJlbnRJbmRleDsgLy8gY29uc29sZS5sb2codGhpcy5jdXJyZW50SW5kZXgpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5MaXN0ZW5lclNob3dCYWNrVG9wKHBvc2l0aW9uKTsgLy8gdGhpcy5pc1Nob3dCYWNrVG9wID0gIC1wb3NpdGlvbi55ID4gQkFDS19QT1NJVElPTiA/IHRydWUgOiBmYWxzZTsKCiAgICAgICAgLyogaWYoKHRoaXMuY3VycmVudEluZGV4ICE9PSBpKSAmJiAoCiAgICAgICAgICAgKGkgPCBsZW5ndGggLSAxICYm44CAcG9zaXRpb25ZID49IHRoaXMudGhlbWVUb3BZc1tpXSAmJiBwb3NpdGlvblkgPCB0aGlzLnRoZW1lVG9wWXNbaSsxXSkKICAgICAgICAgICAgIHx8IChpID09PSBsZW5ndGggLSAxICYmIHBvc2l0aW9uWSA+PSB0aGlzLnRoZW1lVG9wWXNbaV0pKSkgewogICAgICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gaTsKICAgICAgICAgICBjb25zb2xlLmxvZyhpKTsKICAgICAgICAgICAvLyB0aGlzLiRyZWZzLm5hdmJhci5jdXJyZW50SW5kZXggPSB0aGlzLmN1cnJlbnRJbmRleAogICAgICAgICB9Ki8KICAgICAgfQogICAgfSwKICAgIGFkZFRvQ2FydDogZnVuY3Rpb24gYWRkVG9DYXJ0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIC8vIDEuIOiOt+WPlumcgOimgeeahOWxleekuuWPguaVsOaVsOaNrgogICAgICB2YXIgcHJvZHVjdCA9IHt9OwogICAgICBwcm9kdWN0LmltYWdlID0gdGhpcy50b3BJbWFnZXNbMF07CiAgICAgIHByb2R1Y3QudGl0bGUgPSB0aGlzLmdvb2RzLnRpdGxlOwogICAgICBwcm9kdWN0LmRlc2MgPSB0aGlzLmdvb2RzLmRlc2M7CiAgICAgIHByb2R1Y3QucHJpY2UgPSB0aGlzLmdvb2RzLm5ld1ByaWNlOwogICAgICBwcm9kdWN0LmlpZCA9IHRoaXMuaWlkOwogICAgICBwcm9kdWN0LmNoZWNrZWQgPSBmYWxzZTsgLy8g5bCG5ZWG5ZOB5re75Yqg5Yiw6LSt54mp6L2mCiAgICAgIC8vIHRoaXMuJHN0b3JlLmNvbW1pdCgiYWRkQ2FydCIsIHByb2R1Y3QpCiAgICAgIC8vIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJhZGRDYXJ0IiwgcHJvZHVjdCkudGhlbihyZXMgPT4gewogICAgICAvLyAgIGNvbnNvbGUubG9nKHJlcykKICAgICAgLy8gfSkKCiAgICAgIHRoaXMuYWRkQ2FydChwcm9kdWN0KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAvLyB0aGlzLnNob3cgPSB0cnVlCiAgICAgICAgLy8gdGhpcy5tZXNzYWdlID0gcmVzCiAgICAgICAgLy8gc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgLy8gIHRoaXMuc2hvdyA9IGZhbHNlCiAgICAgICAgLy8gdGhpcy5tZXNzYWdlID0gJycKICAgICAgICAvLyB9LCAxNTAwKQogICAgICAgIGNvbnNvbGUubG9nKF90aGlzMi4kdG9hc3QpOwoKICAgICAgICBfdGhpczIuJHRvYXN0LnNob3cocmVzKTsKICAgICAgfSk7IC8vICDmt7vliqDotK3nianovabmiJDlip8KICAgIH0KICB9KSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgey8vIGNvbnNvbGUubG9nKCJEZXRhaWwiKTsKCiAgICAvKiAgY29uc3QgcmVmcmVzaCA9IGRlYm91bmNlKHRoaXMuJHJlZnMuc2Nyb2xsLnJlZnJlc2gsIDUwMCkKICAgICAgdGhpcy5pdGVtSW1nTGlzdGVuZXIgPSAoKSA9PiB7IC8vIDMuIOebkeWQrGl0ZW3kuK3nmoTlm77niYfliqDovb3lrozmiJAKICAgICAgICByZWZyZXNoKCkKICAgICAgfQogICAgICB0aGlzLiRidXMuJG9uKCdpdGVtSW1hZ2VMb2FkJywgdGhpcy5pdGVtSW1nTGlzdGVuZXIpKi8KICB9LAogIGRlc3Ryb3llZDogZnVuY3Rpb24gZGVzdHJveWVkKCkgewogICAgLy8gMi7lj5bmtojlhajlsYDkuovku7bnmoTnm5HlkKwKICAgIHRoaXMuJGJ1cy4kb2ZmKCdpdGVtSW1hZ2VMb2FkJywgdGhpcy5pdGVtSW1nTGlzdGVuZXIpOwogIH0KfTs="},{"version":3,"sources":["Detail.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"detail\">\n      <detail-nav-bar @titleClick=\"titleClick\" ref=\"DetailNav\"/>\n      <scroll class=\"detail-scroll\" ref=\"scroll\" @scroll=\"contentScroll\" :probe-type=\"3\">\n<!--        属性： topImage 传入值： top-image-->\n        <detail-swiper :top-images=\"topImages\" ref=\"detailImage\"/>\n        <detail-base-info :goods=\"goods\"/>\n        <detail-shop-info :shop=\"shop\"/>\n        <detail-goods-info :detail-info=\"detailInfo\" @imageLoad=\"imageLoad\"/>\n        <detail-params :param-info=\"paramsInfo\" ref=\"params\"/>\n        <detail-comment-info :comment-info=\"commentInfo\" ref=\"comment\"/>\n        <goods-list :goods=\"recommend\" ref=\"recommend\"/>\n\n      </scroll>\n      <back-top @click.native=\"backClick\" v-show=\"isShowBackTop\"/>\n      <detail-bottom-bar @addCart=\"addToCart\"/>\n      <!-- <toast :message=\"message\" :show=\"show\"/> -->\n    </div>\n</template>\n\n\n<script>\n  import Scroll from \"components/common/scroll/Scroll\";\n  import GoodsList from \"components/content/goods/GoodsList\";\n  // import Toast from 'components/common/toast/Toast'\n\n  import DetailNavBar from \"./childComps/DetailNavBar\";\n  import DetailSwiper from \"./childComps/DetailSwiper\";\n  import DetailBaseInfo from \"./childComps/DetailBaseInfo\";\n  import DetailShopInfo from \"./childComps/DetailShopInfo\";\n  import DetailGoodsInfo from \"./childComps/DetailGoodsInfo\";\n  import DetailParams from \"./childComps/DetailParams\";\n  import DetailCommentInfo from \"./childComps/DetailCommentInfo\";\n  import DetailBottomBar from \"./childComps/DetailBottomBar\";\n\n  import {getDetail, Goods, Shop, GoodsParam, getRecommend} from \"@/network/detail\";\n  import {itemListenerMixin, backTopMixin} from \"@/common/mixin\";\n  import {debounce} from \"@/common/utils\";\n\n  import {mapGetters, mapActions} from 'vuex'\n\n  export default {\n  name: \"Detail\",\n  components: {\n    Scroll,\n    GoodsList,\n    // Toast,\n    DetailSwiper,\n    DetailNavBar,\n    DetailBaseInfo,\n    DetailShopInfo,\n    DetailGoodsInfo,\n    DetailParams,\n    DetailCommentInfo,\n    DetailBottomBar,\n    getDetail\n  },\n  mixins: [itemListenerMixin, backTopMixin],\n  data() {\n    return {\n      iid: null,\n      topImages: [],\n      goods: {},\n      shop: {},\n      detailInfo: {},\n      paramsInfo: {},\n      commentInfo: {},\n      recommend: [],\n      themeTopYs: [],\n      getThemeTopY: null,\n      currentIndex: 0,\n      // message: '',\n      // show: false\n    }\n  },\n  created() {\n    // 1. 保存传入的iid\n    this.iid = this.$route.params.iid\n    // 2. 根据iid请求详情数据\n    getDetail(this.iid).then(response => {\n      // 1. 获取顶部轮播数据\n      const data = response.result\n      this.topImages = data.itemInfo.topImages\n      // 2. 获取商品信息\n      this.goods = new Goods(data.itemInfo, data.columns, data.shopInfo.services)\n      // 3. 获取店铺信息\n      this.shop = new Shop(data.shopInfo)\n      // 4. 获取商品的详情数据\n      this.detailInfo = data.detailInfo\n      // 5. 获取参数信息\n      this.paramsInfo = new GoodsParam(data.itemParams.info, data.itemParams.rule)\n      // 6.获取评论信息\n      if(data.rate.cRate !== 0) {\n        this.commentInfo = data.rate.list[0]\n      }\n      /*\n      DOM没有渲染\n      this.themeTopYs.push(0)\n      this.themeTopYs.push(-this.$refs.params.$el.offsetTop)\n      this.themeTopYs.push(-this.$refs.comment.$el.offsetTop)\n      this.themeTopYs.push(-this.$refs.recommend.$el.offsetTop)\n      console.log(this.themeTopYs);*/\n      this.$nextTick(() => {\n      /*  图片没有加载完成\n          this.themeTopYs = []\n          this.themeTopYs.push(0)\n          this.themeTopYs.push(-this.$refs.params.$el.offsetTop)\n          this.themeTopYs.push(-this.$refs.comment.$el.offsetTop)\n          this.themeTopYs.push(-this.$refs.recommend.$el.offsetTop)\n          console.log(this.themeTopYs);*/\n      })\n\n\n    })\n    getRecommend().then(response => {\n        this.recommend = response.data.list\n      })\n    // 4. 给getThemeTopY赋值 给函数赋值进行防抖\n      this.getThemeTopY = debounce(() => {\n        this.themeTopYs = []\n        this.themeTopYs.push(0)\n        this.themeTopYs.push(this.$refs.params.$el.offsetTop)\n        this.themeTopYs.push(this.$refs.comment.$el.offsetTop)\n        this.themeTopYs.push(this.$refs.recommend.$el.offsetTop)\n        this.themeTopYs.push(Number.MAX_VALUE)\n      },100)\n  },\n  methods: {\n    ...mapActions(['addCart']),\n    imageLoad() {\n      // this.$refs.scroll.refresh()\n      this.refresh()\n      this.getThemeTopY()\n    },\n    titleClick(index) {\n      this.$refs.scroll.scrollTo(0, -this.themeTopYs[index], 200)\n    },\n    contentScroll(position) {\n      const positionY = -position.y;\n      let length = this.themeTopYs.length\n      for (let i = 0; i < length-1; i++) {\n        if(this.currentIndex !== i && (positionY >= this.themeTopYs[i] && positionY < this.themeTopYs[i+1])) {\n          this.currentIndex = i;\n          this.$refs.DetailNav.currentIndex = this.currentIndex;\n          // console.log(this.currentIndex);\n        }\n        this.ListenerShowBackTop(position)\n\n        // this.isShowBackTop =  -position.y > BACK_POSITION ? true : false;\n       /* if((this.currentIndex !== i) && (\n          (i < length - 1 &&　positionY >= this.themeTopYs[i] && positionY < this.themeTopYs[i+1])\n            || (i === length - 1 && positionY >= this.themeTopYs[i]))) {\n          this.currentIndex = i;\n          console.log(i);\n          // this.$refs.navbar.currentIndex = this.currentIndex\n        }*/\n      }\n    },\n    addToCart() {\n      // 1. 获取需要的展示参数数据\n      const product = {};\n      product.image = this.topImages[0]\n      product.title = this.goods.title\n      product.desc = this.goods.desc\n      product.price = this.goods.newPrice\n      product.iid = this.iid\n      product.checked = false\n\n      // 将商品添加到购物车\n      // this.$store.commit(\"addCart\", product)\n      // this.$store.dispatch(\"addCart\", product).then(res => {\n      //   console.log(res)\n      // })\n      this.addCart(product).then(res => {\n        // this.show = true\n        // this.message = res\n        // setTimeout(() => {\n        //  this.show = false\n        // this.message = ''\n        // }, 1500)\n        console.log(this.$toast);\n        this.$toast.show(res)\n      })\n      //  添加购物车成功\n    }\n  },\n  mounted() {\n\n    // console.log(\"Detail\");\n    /*  const refresh = debounce(this.$refs.scroll.refresh, 500)\n      this.itemImgListener = () => { // 3. 监听item中的图片加载完成\n        refresh()\n      }\n      this.$bus.$on('itemImageLoad', this.itemImgListener)*/\n  },\n  destroyed() {\n    // 2.取消全局事件的监听\n    this.$bus.$off('itemImageLoad', this.itemImgListener)\n  }\n}\n</script>\n\n<style scoped>\n  .detail {\n    height: 100vh;\n    position: relative;\n    z-index: 1;\n    background-color: #ffffff;\n  }\n  .detail-scroll {\n    height: calc(100% - 44px - 2.09rem);\n    overflow: hidden;\n  }\n</style>\n"],"sourceRoot":"src/views/detail"}]}