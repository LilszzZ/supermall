{"remainingRequest":"D:\\vue项目\\supermall-s\\supermall\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue项目\\supermall-s\\supermall\\src\\views\\cart\\childComps\\CartButtonBar.vue?vue&type=style&index=0&id=1a37fc82&scoped=true&lang=css&","dependencies":[{"path":"D:\\vue项目\\supermall-s\\supermall\\src\\views\\cart\\childComps\\CartButtonBar.vue","mtime":1620893710000},{"path":"D:\\vue项目\\supermall-s\\supermall\\node_modules\\css-loader\\dist\\cjs.js","mtime":1655460943778},{"path":"D:\\vue项目\\supermall-s\\supermall\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1655460948934},{"path":"D:\\vue项目\\supermall-s\\supermall\\node_modules\\postcss-loader\\src\\index.js","mtime":1655460944907},{"path":"D:\\vue项目\\supermall-s\\supermall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655460943176},{"path":"D:\\vue项目\\supermall-s\\supermall\\node_modules\\vue-loader\\lib\\index.js","mtime":1655460947237}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouYnV0dG9uLWJhciB7CiAgZGlzcGxheTogZmxleDsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgaGVpZ2h0OiA0MHB4OwogIGxpbmUtaGVpZ2h0OiA0MHB4OwogIGZvbnQtc2l6ZTogMTRweDsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlOwp9Ci5jaGVjay1jb250ZW50IHsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgbWFyZ2luLWxlZnQ6IDE1cHg7CiAgbWFyZ2luLXJpZ2h0OiA1cHg7CiAgd2lkdGg6IDkwcHg7Cn0KLmNoZWNrLWJ1dHRvbiB7CiAgd2lkdGg6IDIwcHg7CiAgaGVpZ2h0OiAyMHB4OwogIGxpbmUtaGVpZ2h0OiAxOHB4Owp9Ci5wcmljZSB7CiAgbWFyZ2luLWxlZnQ6IDEwcHg7CiAgZmxleDogMTsKfQouYnV0dG9uLWJhciAuY2FsY3VsYXRlIHsKICAvKiBmbG9hdDogcmlnaHQhaW1wb3J0YW50OyDlnKhmbGV45Lit5LiN6LW35L2c55SoKi8KICAvKiBtYXJnaW4tbGVmdDogNTBweDsgKi8KICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgd2lkdGg6IDkwcHg7CiAgYmFja2dyb3VuZC1jb2xvcjogcmVkOwogIGNvbG9yOiAjZmZmOwp9Cg=="},{"version":3,"sources":["CartButtonBar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CartButtonBar.vue","sourceRoot":"src/views/cart/childComps","sourcesContent":["<template>\n  <div class=\"button-bar\">\n    <div class=\"check-content\">\n      <cart-check-button  class=\"check-button\"\n                          :is-checked=\"isSelectAll\"\n                          @click.native=\"buttonChange\"/>\n      <span>全选</span>\n    </div>\n    <div class=\"price\">\n      合计：　{{totalPrice}}\n    </div>\n    <div class=\"calculate\" @click=\"calcClick\">去计算：({{checkLength}})</div>\n  </div>\n</template>\n\n<script>\nimport CartCheckButton from \"./CartCheckButton\";\nimport {mapGetters } from 'vuex'\nexport default {\n  name: \"CartButtonBar\",\n  components: {\n    CartCheckButton,\n  },\n  computed: {\n    ...mapGetters(['cartList']),\n    totalPrice() {\n      return '￥' + this.cartList.filter(item => {\n       return  item.checked\n      }).reduce((oldValue, item) => {\n        let num = parseFloat(item.price.substr(1, item.price.length-1))\n        return oldValue + num * item.count\n      }, 0)\n    },\n    checkLength () {\n      return this.cartList.filter(item => item.checked).length\n    },\n    isSelectAll() {\n      if(this.cartList.length === 0)  return false\n      // 1. 使用高级函数\n      // return (!this.cartList.filter(item => !item.checked).length)\n      return !this.cartList.find(item => !item.checked)\n      // 2. 遍历\n      // for(let item of this.cartList) {\n      //   if(!item.checked) {\n      //     return false\n      //   }\n      //   return true\n      // }\n    }\n  },\n  methods: {\n    buttonChange() {\n      if(this.isSelectAll) { // 全部选中\n        this.cartList.forEach(element => element.checked = false);\n\n      }else { // 没有全部选中(部分不选中)\n        this.cartList.forEach(element => element.checked = true);\n      }\n      // this.cartList.forEach(element => element.checked = !this.isSelectAll);\n    },\n    calcClick() {\n\n      if(!this.isSelectAll) {\n        this.$toast.show(\"请选择购买的商品\");\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .button-bar {\n    display: flex;\n    position: relative;\n    height: 40px;\n    line-height: 40px;\n    font-size: 14px;\n    background-color: #eee;\n  }\n  .check-content {\n    display: flex;\n    align-items: center;\n    margin-left: 15px;\n    margin-right: 5px;\n    width: 90px;\n  }\n  .check-button {\n    width: 20px;\n    height: 20px;\n    line-height: 18px;\n  }\n  .price {\n    margin-left: 10px;\n    flex: 1;\n  }\n  .button-bar .calculate {\n    /* float: right!important; 在flex中不起作用*/\n    /* margin-left: 50px; */\n    text-align: center;\n    width: 90px;\n    background-color: red;\n    color: #fff;\n  }\n</style>\n"]}]}