{"remainingRequest":"D:\\vue项目\\supermall-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue项目\\supermall-master\\src\\views\\cart\\childComps\\CartButtonBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue项目\\supermall-master\\src\\views\\cart\\childComps\\CartButtonBar.vue","mtime":1620893710000},{"path":"D:\\vue项目\\supermall-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655460943176},{"path":"D:\\vue项目\\supermall-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1655460947168},{"path":"D:\\vue项目\\supermall-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655460943176},{"path":"D:\\vue项目\\supermall-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1655460947237}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDYXJ0Q2hlY2tCdXR0b24gZnJvbSAiLi9DYXJ0Q2hlY2tCdXR0b24iOwppbXBvcnQge21hcEdldHRlcnMgfSBmcm9tICd2dWV4JwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNhcnRCdXR0b25CYXIiLAogIGNvbXBvbmVudHM6IHsKICAgIENhcnRDaGVja0J1dHRvbiwKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKFsnY2FydExpc3QnXSksCiAgICB0b3RhbFByaWNlKCkgewogICAgICByZXR1cm4gJ++/pScgKyB0aGlzLmNhcnRMaXN0LmZpbHRlcihpdGVtID0+IHsKICAgICAgIHJldHVybiAgaXRlbS5jaGVja2VkCiAgICAgIH0pLnJlZHVjZSgob2xkVmFsdWUsIGl0ZW0pID0+IHsKICAgICAgICBsZXQgbnVtID0gcGFyc2VGbG9hdChpdGVtLnByaWNlLnN1YnN0cigxLCBpdGVtLnByaWNlLmxlbmd0aC0xKSkKICAgICAgICByZXR1cm4gb2xkVmFsdWUgKyBudW0gKiBpdGVtLmNvdW50CiAgICAgIH0sIDApCiAgICB9LAogICAgY2hlY2tMZW5ndGggKCkgewogICAgICByZXR1cm4gdGhpcy5jYXJ0TGlzdC5maWx0ZXIoaXRlbSA9PiBpdGVtLmNoZWNrZWQpLmxlbmd0aAogICAgfSwKICAgIGlzU2VsZWN0QWxsKCkgewogICAgICBpZih0aGlzLmNhcnRMaXN0Lmxlbmd0aCA9PT0gMCkgIHJldHVybiBmYWxzZQogICAgICAvLyAxLiDkvb/nlKjpq5jnuqflh73mlbAKICAgICAgLy8gcmV0dXJuICghdGhpcy5jYXJ0TGlzdC5maWx0ZXIoaXRlbSA9PiAhaXRlbS5jaGVja2VkKS5sZW5ndGgpCiAgICAgIHJldHVybiAhdGhpcy5jYXJ0TGlzdC5maW5kKGl0ZW0gPT4gIWl0ZW0uY2hlY2tlZCkKICAgICAgLy8gMi4g6YGN5Y6GCiAgICAgIC8vIGZvcihsZXQgaXRlbSBvZiB0aGlzLmNhcnRMaXN0KSB7CiAgICAgIC8vICAgaWYoIWl0ZW0uY2hlY2tlZCkgewogICAgICAvLyAgICAgcmV0dXJuIGZhbHNlCiAgICAgIC8vICAgfQogICAgICAvLyAgIHJldHVybiB0cnVlCiAgICAgIC8vIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGJ1dHRvbkNoYW5nZSgpIHsKICAgICAgaWYodGhpcy5pc1NlbGVjdEFsbCkgeyAvLyDlhajpg6jpgInkuK0KICAgICAgICB0aGlzLmNhcnRMaXN0LmZvckVhY2goZWxlbWVudCA9PiBlbGVtZW50LmNoZWNrZWQgPSBmYWxzZSk7CgogICAgICB9ZWxzZSB7IC8vIOayoeacieWFqOmDqOmAieS4rSjpg6jliIbkuI3pgInkuK0pCiAgICAgICAgdGhpcy5jYXJ0TGlzdC5mb3JFYWNoKGVsZW1lbnQgPT4gZWxlbWVudC5jaGVja2VkID0gdHJ1ZSk7CiAgICAgIH0KICAgICAgLy8gdGhpcy5jYXJ0TGlzdC5mb3JFYWNoKGVsZW1lbnQgPT4gZWxlbWVudC5jaGVja2VkID0gIXRoaXMuaXNTZWxlY3RBbGwpOwogICAgfSwKICAgIGNhbGNDbGljaygpIHsKCiAgICAgIGlmKCF0aGlzLmlzU2VsZWN0QWxsKSB7CiAgICAgICAgdGhpcy4kdG9hc3Quc2hvdygi6K+36YCJ5oup6LSt5Lmw55qE5ZWG5ZOBIik7CiAgICAgIH0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["CartButtonBar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"CartButtonBar.vue","sourceRoot":"src/views/cart/childComps","sourcesContent":["<template>\n  <div class=\"button-bar\">\n    <div class=\"check-content\">\n      <cart-check-button  class=\"check-button\"\n                          :is-checked=\"isSelectAll\"\n                          @click.native=\"buttonChange\"/>\n      <span>全选</span>\n    </div>\n    <div class=\"price\">\n      合计：　{{totalPrice}}\n    </div>\n    <div class=\"calculate\" @click=\"calcClick\">去计算：({{checkLength}})</div>\n  </div>\n</template>\n\n<script>\nimport CartCheckButton from \"./CartCheckButton\";\nimport {mapGetters } from 'vuex'\nexport default {\n  name: \"CartButtonBar\",\n  components: {\n    CartCheckButton,\n  },\n  computed: {\n    ...mapGetters(['cartList']),\n    totalPrice() {\n      return '￥' + this.cartList.filter(item => {\n       return  item.checked\n      }).reduce((oldValue, item) => {\n        let num = parseFloat(item.price.substr(1, item.price.length-1))\n        return oldValue + num * item.count\n      }, 0)\n    },\n    checkLength () {\n      return this.cartList.filter(item => item.checked).length\n    },\n    isSelectAll() {\n      if(this.cartList.length === 0)  return false\n      // 1. 使用高级函数\n      // return (!this.cartList.filter(item => !item.checked).length)\n      return !this.cartList.find(item => !item.checked)\n      // 2. 遍历\n      // for(let item of this.cartList) {\n      //   if(!item.checked) {\n      //     return false\n      //   }\n      //   return true\n      // }\n    }\n  },\n  methods: {\n    buttonChange() {\n      if(this.isSelectAll) { // 全部选中\n        this.cartList.forEach(element => element.checked = false);\n\n      }else { // 没有全部选中(部分不选中)\n        this.cartList.forEach(element => element.checked = true);\n      }\n      // this.cartList.forEach(element => element.checked = !this.isSelectAll);\n    },\n    calcClick() {\n\n      if(!this.isSelectAll) {\n        this.$toast.show(\"请选择购买的商品\");\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .button-bar {\n    display: flex;\n    position: relative;\n    height: 40px;\n    line-height: 40px;\n    font-size: 14px;\n    background-color: #eee;\n  }\n  .check-content {\n    display: flex;\n    align-items: center;\n    margin-left: 15px;\n    margin-right: 5px;\n    width: 90px;\n  }\n  .check-button {\n    width: 20px;\n    height: 20px;\n    line-height: 18px;\n  }\n  .price {\n    margin-left: 10px;\n    flex: 1;\n  }\n  .button-bar .calculate {\n    /* float: right!important; 在flex中不起作用*/\n    /* margin-left: 50px; */\n    text-align: center;\n    width: 90px;\n    background-color: red;\n    color: #fff;\n  }\n</style>\n"]}]}